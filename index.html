<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Investiga√ß√£o</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0e0e0e;
  color: #fff;
}
.hidden { display: none; }
button, #btnInstall {
  padding: 12px 20px;
  background: #b30000;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
}
button:hover, #btnInstall:hover { background: #ff0000; }
.container { padding: 20px; max-width: 800px; margin: auto; }
img { max-width: 100%; border-radius: 10px; margin-top: 10px; }
h1, h2, h3 { color: #ff3b3b; }
.option {
  background: #1c1c1c;
  padding: 12px;
  border-radius: 6px;
  margin: 10px 0;
  cursor: pointer;
}
.option:hover { background: #2a2a2a; }
.dossie-final {
  background:#111;
  border:2px solid #b30000;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
}
.mensagem-celular {
  background: #1c1c1c;
  border-left: 4px solid #ff3b3b;
  padding: 12px;
  margin: 10px 0;
  border-radius: 6px;
  animation: piscar 1s infinite alternate;
}
@keyframes piscar { 0% { opacity: 0.8; } 100% { opacity: 1; } }
.suspeito-card {
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#222;
  padding:10px;
  margin:5px 0;
  border-radius:6px;
}
.suspeito-card img { width:80px; border-radius:6px; margin-right:10px; }
.suspeito-card button { margin-left:5px; }
</style>
</head>
<body>

<!-- CAPA -->
<section id="capa" class="container">
  <h1>INVESTIGA√á√ÉO</h1>
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Um desaparecimento. Mentiras entre amigos, segredos sombrios e uma verdade que ningu√©m quer revelar.</p>
  <button onclick="mostrarTelaCasos()">Iniciar Investiga√ß√£o</button>
  <div id="btnInstall" class="hidden">üì• Instalar Investiga√ß√£o</div>
</section>

<!-- TELA DE CASOS -->
<section id="telaCasos" class="container hidden">
  <h2>Escolha o Caso que deseja investigar</h2>
  <div class="option" onclick="iniciarCaso(1)">Cap√≠tulo 01 ‚Äî Caso Elisa Martins</div>
  <div class="option" onclick="iniciarCaso(2)">Cap√≠tulo 02 ‚Äî O Sil√™ncio da Testemunha</div>
  <div class="option" onclick="iniciarCaso(3)">Cap√≠tulo 03 ‚Äî O Mist√©rio do Laborat√≥rio</div>
  <div class="option" onclick="iniciarCaso(4)">Cap√≠tulo 04 ‚Äî O Roubo da Galeria</div>
</section>

<!-- INTRO -->
<section id="intro" class="container hidden">
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Elisa enviou mensagens enigm√°ticas antes de desaparecer. Cada detalhe pode ser uma pista crucial. Segredos antigos e press√µes desconhecidas surgem √† medida que o caso se aprofunda.</p>
  <button onclick="mostrarCena1()">Acessar Dossi√™</button>
</section>

<!-- CASO 01 CENAS -->
<section id="cena1" class="container hidden">
  <h2>Cena 1 ‚Äî √öltima Mensagem de Elisa</h2>
  <div class="mensagem-celular">"Se algo me acontecer, procure o que est√° escondido no escrit√≥rio."</div>
  <button onclick="mostrarCena2()">Continuar</button>
</section>

<section id="cena2" class="container hidden">
  <h2>Cena 2 ‚Äî Local Suspeito</h2>
  <div class="mensagem-celular">"Objetos fora do lugar indicam press√µes externas."</div>
  <button onclick="mostrarCena3()">Continuar</button>
</section>

<section id="cena3" class="container hidden">
  <h2>Cena 3 ‚Äî Descoberta Importante</h2>
  <img src="https://i.ibb.co/hFQwkyt0/IMG-20260116-WA0028.jpg" alt="Foto suspeita">
  <div class="mensagem-celular">"Algu√©m tentava coagir Elisa. Observe os detalhes do fundo."</div>
  <button onclick="mostrarInterrogatorio1()">Seguir para Interrogat√≥rio</button>
</section>

<!-- INTERROGAT√ìRIO CASO 01 -->
<section id="interrogatorio1" class="container hidden">
  <h2>Interrogat√≥rio ‚Äî Caso 01</h2>
  <div id="suspeitos1"></div>
</section>

<section id="resultado1" class="container hidden">
  <h2>Escolha quem prender ‚Äî Caso 01</h2>
  <div id="escolhaCulpado1"></div>
  <button onclick="iniciarCaso(2)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 02 -->
<section id="caso2" class="container hidden">
  <h2>Caso 02 ‚Äî O Sil√™ncio da Testemunha</h2>
  <button onclick="mostrarInterrogatorio2()">Iniciar Investiga√ß√£o</button>
</section>

<section id="interrogatorio2" class="container hidden">
  <h2>Interrogat√≥rio ‚Äî Caso 02</h2>
  <div id="suspeitos2"></div>
</section>

<section id="resultado2" class="container hidden">
  <h2>Escolha quem prender ‚Äî Caso 02</h2>
  <div id="escolhaCulpado2"></div>
  <button onclick="iniciarCaso(3)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 03 -->
<section id="caso3" class="container hidden">
  <h2>Caso 03 ‚Äî O Mist√©rio do Laborat√≥rio</h2>
  <button onclick="mostrarInterrogatorio3()">Iniciar Investiga√ß√£o</button>
</section>

<section id="interrogatorio3" class="container hidden">
  <h2>Interrogat√≥rio ‚Äî Caso 03</h2>
  <div id="suspeitos3"></div>
</section>

<section id="resultado3" class="container hidden">
  <h2>Escolha quem prender ‚Äî Caso 03</h2>
  <div id="escolhaCulpado3"></div>
  <button onclick="iniciarCaso(4)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 04 -->
<section id="caso4" class="container hidden">
  <h2>Caso 04 ‚Äî O Roubo da Galeria</h2>
  <button onclick="mostrarInterrogatorio4()">Iniciar Investiga√ß√£o</button>
</section>

<section id="interrogatorio4" class="container hidden">
  <h2>Interrogat√≥rio ‚Äî Caso 04</h2>
  <div id="suspeitos4"></div>
</section>

<section id="resultado4" class="container hidden">
  <h2>Escolha quem prender ‚Äî Caso 04</h2>
  <div id="escolhaCulpado4"></div>
  <button onclick="mostrarTelaCasos()">üîô Voltar para Casos</button>
</section>

<script>
// Declara√ß√µes
const capa = document.getElementById('capa');
const telaCasos = document.getElementById('telaCasos');
const intro = document.getElementById('intro');
const cena1 = document.getElementById('cena1');
const cena2 = document.getElementById('cena2');
const cena3 = document.getElementById('cena3');
const caso2Sec = document.getElementById('caso2');
const caso3Sec = document.getElementById('caso3');
const caso4Sec = document.getElementById('caso4');
const interrogatorio1 = document.getElementById('interrogatorio1');
const interrogatorio2 = document.getElementById('interrogatorio2');
const interrogatorio3 = document.getElementById('interrogatorio3');
const interrogatorio4 = document.getElementById('interrogatorio4');
const resultado1Sec = document.getElementById('resultado1');
const resultado2Sec = document.getElementById('resultado2');
const resultado3Sec = document.getElementById('resultado3');
const resultado4Sec = document.getElementById('resultado4');

// Fun√ß√µes b√°sicas
function esconderTudo(){ document.querySelectorAll('section').forEach(s=>s.classList.add('hidden')); }
function mostrarTelaCasos(){ esconderTudo(); telaCasos.classList.remove('hidden'); }
function mostrarCena1(){ esconderTudo(); cena1.classList.remove('hidden'); playNotif(); }
function mostrarCena2(){ esconderTudo(); cena2.classList.remove('hidden'); playNotif(); }
function mostrarCena3(){ esconderTudo(); cena3.classList.remove('hidden'); playNotif(); }
function mostrarInterrogatorio1(){ esconderTudo(); interrogatorio1.classList.remove('hidden'); }
function mostrarInterrogatorio2(){ esconderTudo(); interrogatorio2.classList.remove('hidden'); }
function mostrarInterrogatorio3(){ esconderTudo(); interrogatorio3.classList.remove('hidden'); }
function mostrarInterrogatorio4(){ esconderTudo(); interrogatorio4.classList.remove('hidden'); }
function playNotif(){ new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg').play(); }

// Fun√ß√£o iniciar caso
function iniciarCaso(num){
  esconderTudo();
  if(num===1){ intro.classList.remove('hidden'); }
  if(num===2){ caso2Sec.classList.remove('hidden'); }
  if(num===3){ caso3Sec.classList.remove('hidden'); }
  if(num===4){ caso4Sec.classList.remove('hidden'); }
}

// Suspeitos
const suspeitosBase = [
  {nome:'Lucas', relacao:'Amigo de Elisa', alibi:'Estava no trabalho.', foto:'https://i.ibb.co/L0kP6vF/lucas.png', perguntas:['Voc√™ viu algu√©m suspeito na casa de Elisa?','O que fazia na noite do desaparecimento?'], resposta:'N√£o, estava no trabalho.'},
  {nome:'Marina', relacao:'Colega de trabalho', alibi:'Estava em reuni√£o.', foto:'https://i.ibb.co/3m5wFpx/marina.png', perguntas:['Notou algo estranho na Elisa?','Algu√©m te pediu para esconder algo?'], resposta:'N√£o reparei em nada.'},
  {nome:'Renato', relacao:'Ex-namorado', alibi:'Alega ter estado sozinho.', foto:'https://i.ibb.co/2Z8b2Fh/renato-prisao.png', perguntas:['Voc√™ entrou no escrit√≥rio de Elisa recentemente?','Por que estava evitando Elisa?'], resposta:'N√£o entrei, precisava de espa√ßo.'},
  {nome:'Clara', relacao:'Amiga de escola', alibi:'Estava estudando.', foto:'https://i.ibb.co/tB2v0J4/clara.png', perguntas:['Voc√™ sabia sobre os problemas de Elisa?','Algu√©m tentou te pressionar a mentir?'], resposta:'N√£o sabia de nada.'},
  {nome:'Henrique', relacao:'Vizinho', alibi:'Estava viajando.', foto:'https://i.ibb.co/7N9zGbQ/henrique.png', perguntas:['Voc√™ viu algu√©m estranho perto da casa de Elisa?','Algu√©m pediu sua ajuda para se esconder?'], resposta:'N√£o, estava fora.'},
  {nome:'Paulo', relacao:'Colega de faculdade', alibi:'Estava em aula online.', foto:'https://i.ibb.co/jM0p4Wp/paulo.png', perguntas:['Voc√™ notou comportamentos estranhos de Elisa?','Algu√©m tentou se aproximar dela?'], resposta:'N√£o percebi nada.'}
];

const caso1 = JSON.parse(JSON.stringify(suspeitosBase));
const caso2 = JSON.parse(JSON.stringify(suspeitosBase));
const caso3 = JSON.parse(JSON.stringify(suspeitosBase));
const caso4 = JSON.parse(JSON.stringify(suspeitosBase));

// Criar suspeitos dinamicamente
function criarSuspeitos(idContainer, casoNum, suspeitos){
  let container = document.getElementById(idContainer);
  suspeitos.forEach(s => {
    let h3=document.createElement('h3'); h3.innerText=`${s.nome} (${s.relacao})`;
    let p=document.createElement('p'); p.innerText=`√Ålibi: ${s.alibi}`;
    container.appendChild(h3); container.appendChild(p);
    s.perguntas.forEach(pergunta=>{
      let div=document.createElement('div'); div.className='option'; div.innerText=pergunta;
      div.onclick=()=>{
        alert(`${s.nome} responde: "${s.resposta}"`);
        responderSuspeito(casoNum,s.nome);
      };
      container.appendChild(div);
    });
  });
}

// Pistas
let pistas = {1:{},2:{},3:{},4:{}};

// Fun√ß√£o responder suspeito
function responderSuspeito(casoNum,nome){
  if(!pistas[casoNum][nome]) pistas[casoNum][nome]=0;
  pistas[casoNum][nome]++;
  playNotif();
  if(pistas[casoNum][nome]>=2){
    esconderTudo();
    const resultadoSec = document.getElementById(`resultado${casoNum}`);
    resultadoSec.classList.remove('hidden');
    const divEscolha = document.getElementById(`escolhaCulpado${casoNum}`);
    divEscolha.innerHTML='';
    // Criar cards para escolher culpado
    const suspeitosCaso = [caso1, caso2, caso3, caso4][casoNum-1];
    suspeitosCaso.forEach(s=>{
      let card=document.createElement('div'); card.className='suspeito-card';
      card.innerHTML=`<div><img src="${s.foto}" alt="${s.nome}"><strong>${s.nome}</strong></div>
      <div><button onclick="verificarCulpado('${s.nome}','${casoNum}')">Prender</button>
      <button onclick="alert('Decidiu n√£o prender ${s.nome}')">Inocente</button></div>`;
      divEscolha.appendChild(card);
    });
  }
}

// Verificar se preso √© correto
function verificarCulpado(nome, casoNum){
  let culpado='Renato'; // exemplo de culpado fixo, voc√™ pode mudar por caso
  if(nome===culpado){
    alert(`${nome} foi preso com sucesso!`);
  } else {
    if(confirm(`Voc√™ escolheu prender ${nome}. Tem certeza?`)){
      alert(`Prendeu a pessoa errada! O culpado era ${culpado}.`);
    }
  }
}

// Criar suspeitos nos interrogat√≥rios
criarSuspeitos('suspeitos1',1,caso1);
criarSuspeitos('suspeitos2',2,caso2);
criarSuspeitos('suspeitos3',3,caso3);
criarSuspeitos('suspeitos4',4,caso4);

/* PWA */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault(); deferredPrompt=e; btnInstall.classList.remove("hidden");
});
btnInstall.onclick=()=>{
  deferredPrompt.prompt(); deferredPrompt=null; btnInstall.classList.add("hidden");
};
</script>
</body>
    </html>
