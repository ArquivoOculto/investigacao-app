<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Investiga√ß√£o Criminal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#020617">

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{margin:0;background:radial-gradient(circle at top,#020617,#000);color:#e5e7eb}
.intro{position:fixed;inset:0;background:url("https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png") center/cover no-repeat;display:flex;align-items:center;justify-content:center;z-index:9;animation:fadeOut 1s ease forwards;animation-delay:2.5s}
.intro::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.7)}
.intro h1{position:relative;z-index:1;font-size:2rem;text-shadow:0 0 20px #38bdf8}
@keyframes fadeOut{to{opacity:0;visibility:hidden}}
.app{max-width:420px;margin:auto;min-height:100vh;background:#020617;border-radius:18px;overflow:hidden}
.cover{height:180px;background:url("https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png") center/cover no-repeat}
.content{padding:20px;text-align:center}
.btn{width:100%;margin-top:10px;padding:14px;border-radius:14px;border:none;cursor:pointer;font-weight:bold}
.btn-primary{background:#38bdf8;color:#020617}
.btn-option{background:#111827;color:#e5e7eb;border:1px solid #38bdf8}
.btn-option:hover{background:#38bdf8;color:#020617}
.game-box{padding:20px;border-top:2px solid #38bdf8;animation:fadeIn .4s ease;text-align:center}
.game-box img{width:100%;border-radius:12px;margin:10px 0;border:2px solid #38bdf8}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.content .btn-option{display:none}
.dossie{position:fixed;inset:0;background:rgba(0,0,0,.95);z-index:20;display:none;overflow:auto}
.dossie-box{max-width:400px;margin:40px auto;background:#020617;border-radius:16px;padding:20px;text-align:center}
.dossie h3{color:#38bdf8}
.dossie img{width:100%;border-radius:12px;margin-bottom:10px;border:2px solid #38bdf8}
</style>
</head>

<body>

<div class="intro"><h1>Investiga√ß√£o Criminal</h1></div>

<div class="app">
<div class="cover"></div>
<div class="content" id="home">
<h2>Caso 01 ‚Äî O Desaparecimento de Elisa</h2>
<p>Cada escolha pode revelar‚Ä¶ ou esconder a verdade.</p>
<button class="btn btn-primary" onclick="startGame()">Iniciar Investiga√ß√£o</button>
</div>
</div>

<div class="dossie" id="dossie">
  <div class="dossie-box" id="dossieBox"></div>
</div>

<script>
/* HIST√ìRIA EXPANDIDA ‚Äî ACRESCENTADA */
const historia=[
{texto:"Elisa era uma jovem reservada, mas nos √∫ltimos dias parecia assustada.",img:null},
{texto:"Ela comentou com colegas que havia descoberto algo grave.",img:null},
{texto:"Na noite do desaparecimento, uma liga√ß√£o misteriosa foi registrada.",img:null},
{texto:"Elisa desapareceu numa noite fria e silenciosa.",img:"https://i.ibb.co/3c2d8nY/cena-crime.jpg"},
{texto:"O quarto da v√≠tima estava revirado, mas sem sinais de arrombamento.",img:"https://i.ibb.co/ZV0wWqN/quarto-vitima.jpg"},
{texto:"O celular de Elisa foi encontrado escondido atr√°s do guarda-roupa.",img:"https://i.ibb.co/D9FzR5S/celular-vitima.jpg"},
{texto:"Mensagens apagadas indicam amea√ßas diretas.",img:null},
{texto:"Voc√™ precisa analisar as provas antes de interrogar.",img:null}
];

let provasColetadas=0;

const dossieData=[
{nome:"Melhor Amiga",img:"https://i.ibb.co/Nxv9L3g/amiga.jpg",texto:"Sem provas diretas."},
{nome:"Ex-namorado",img:"https://i.ibb.co/8dRZLkN/ex.jpg",texto:"√Ålibi fraco."},
{nome:"Colega de Trabalho",img:"https://i.ibb.co/k2kC8Xk/colega.jpg",texto:"Mensagens apagadas no celular da v√≠tima."},
{nome:"Vizinho",img:"https://i.ibb.co/FgZ9X3h/vizinho.jpg",texto:"Apenas testemunha."}
];

let dIndex=0;

function startGame(){
document.getElementById("home").style.display="none";
mostrarHistoria(0);
}

function mostrarHistoria(i){
const app=document.querySelector(".app");
const box=document.createElement("div");
box.className="game-box";
box.innerHTML=`
<p>${historia[i].texto}</p>
${historia[i].img?`<img src="${historia[i].img}">`:""}
<button class="btn btn-primary">${i<historia.length-1?"Continuar":"Analisar Dossi√™"}</button>
`;
app.appendChild(box);
box.querySelector("button").onclick=()=>{
box.remove();
i<historia.length-1?mostrarHistoria(i+1):abrirDossie();
}
}

function abrirDossie(){
document.getElementById("dossie").style.display="block";
renderDossie();
}

function renderDossie(){
const d=dossieData[dIndex];
document.getElementById("dossieBox").innerHTML=`
<img src="${d.img}">
<h3>${d.nome}</h3>
<p>${d.texto}</p>
<button class="btn btn-option" onclick="coletarProva()">üîé Analisar Prova</button>
<button class="btn btn-option" onclick="dIndex>0&&dIndex--;renderDossie()">‚¨Ö</button>
<button class="btn btn-option" onclick="dIndex<dossieData.length-1&&dIndex++;renderDossie()">‚û°</button>
<button class="btn btn-primary" onclick="fecharDossie()">Finalizar An√°lise</button>
`;
}

function coletarProva(){
provasColetadas++;
alert("Prova analisada");
}

function fecharDossie(){
document.getElementById("dossie").style.display="none";
if(provasColetadas>=2){
interrogatorio();
}else{
alert("Voc√™ precisa analisar mais provas.");
abrirDossie();
}
}

function interrogatorio(){
const app=document.querySelector(".app");
const box=document.createElement("div");
box.className="game-box";
box.innerHTML=`
<h3>Com base nas provas, quem √© o culpado?</h3>
<button class="btn btn-option" onclick="final(false)">Melhor Amiga</button>
<button class="btn btn-option" onclick="final(false)">Ex-namorado</button>
<button class="btn btn-option" onclick="final(true)">Colega de Trabalho</button>
<button class="btn btn-option" onclick="final(false)">Vizinho</button>
`;
app.appendChild(box);
}

/* FINAL + BOT√ÉO DE VOLTAR ‚Äî ACRESCENTADO */
function final(acertou){
const app=document.querySelector(".app");
const box=document.createElement("div");
box.className="game-box";
box.innerHTML=acertou?`
<h2>üöî Caso Resolvido</h2>
<p>As provas levaram √† pris√£o do colega de trabalho.</p>
<p>Ap√≥s o interrogat√≥rio, ele confessou o crime.</p>
<p><strong>Justi√ßa foi feita.</strong></p>
<button class="btn btn-primary" onclick="voltarInicio()">üè† Voltar √† Tela Inicial</button>
`:
`
<h2>‚ùå Conclus√£o Incorreta</h2>
<p>O culpado escapou.</p>
<button class="btn btn-primary" onclick="voltarInicio()">üè† Voltar √† Tela Inicial</button>
`;
app.appendChild(box);
}

/* FUN√á√ÉO NOVA ‚Äî ACRESCENTADA */
function voltarInicio(){
location.reload();
}
</script>

</body>
</html>
