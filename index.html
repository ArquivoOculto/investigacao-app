<script>
/* =========================
   INTERROGAT√ìRIO INTERATIVO
   ========================= */

let suspeitoAtual = "";
let perguntaIndex = 0;
let contradicoes = 0;

const interrogatorioData = {
  "Melhor Amiga": [
    {
      q: "Voc√™ falou com Elisa no dia do desaparecimento?",
      r: [
        { t: "Sim, ela estava com medo", correta: true },
        { t: "N√£o falei com ela", correta: false }
      ]
    },
    {
      q: "Por que apagou mensagens do celular?",
      r: [
        { t: "Para proteg√™-la", correta: false },
        { t: "Entrei em p√¢nico", correta: true }
      ]
    }
  ],

  "Ex-namorado": [
    {
      q: "Voc√™s brigaram recentemente?",
      r: [
        { t: "Sim, discutimos", correta: true },
        { t: "N√£o, estava tudo bem", correta: false }
      ]
    },
    {
      q: "Onde voc√™ estava naquela noite?",
      r: [
        { t: "Em casa sozinho", correta: false },
        { t: "Com amigos", correta: true }
      ]
    }
  ],

  "Colega de Trabalho": [
    {
      q: "Elisa descobriu algo no trabalho?",
      r: [
        { t: "Sim, algo ilegal", correta: true },
        { t: "N√£o sei do que fala", correta: false }
      ]
    },
    {
      q: "Por que havia amea√ßas no celular dela?",
      r: [
        { t: "Para que ela ficasse quieta", correta: true },
        { t: "N√£o fa√ßo ideia", correta: false }
      ]
    }
  ],

  "Vizinho": [
    {
      q: "Voc√™ ouviu algo estranho naquela noite?",
      r: [
        { t: "Ouvi uma discuss√£o", correta: true },
        { t: "N√£o ouvi nada", correta: false }
      ]
    },
    {
      q: "Saiu do pr√©dio nesse hor√°rio?",
      r: [
        { t: "N√£o sa√≠", correta: false },
        { t: "Fui ao mercado", correta: true }
      ]
    }
  ]
};

/* SUBSTITUI O INTERROGAT√ìRIO SIMPLES */
function interrogatorio(){
const app=document.querySelector(".app");
const box=document.createElement("div");
box.className="game-box";
box.innerHTML=`
<h3>Quem voc√™ deseja interrogar?</h3>
<button class="btn btn-option" onclick="iniciarInterrogatorio('Melhor Amiga')">Melhor Amiga</button>
<button class="btn btn-option" onclick="iniciarInterrogatorio('Ex-namorado')">Ex-namorado</button>
<button class="btn btn-option" onclick="iniciarInterrogatorio('Colega de Trabalho')">Colega de Trabalho</button>
<button class="btn btn-option" onclick="iniciarInterrogatorio('Vizinho')">Vizinho</button>
`;
app.appendChild(box);
}

function iniciarInterrogatorio(nome){
suspeitoAtual = nome;
perguntaIndex = 0;
contradicoes = 0;
mostrarPergunta();
}

function mostrarPergunta(){
const app=document.querySelector(".app");
const pergunta = interrogatorioData[suspeitoAtual][perguntaIndex];

const box=document.createElement("div");
box.className="game-box";
box.innerHTML=`
<h3>${suspeitoAtual}</h3>
<p>${pergunta.q}</p>
${pergunta.r.map(resp=>`
<button class="btn btn-option" onclick="responder(${resp.correta})">${resp.t}</button>
`).join("")}
`;
app.appendChild(box);
}

function responder(correta){
if(correta) contradicoes++;

const app=document.querySelector(".app");
app.lastChild.remove();

perguntaIndex++;
if(perguntaIndex < interrogatorioData[suspeitoAtual].length){
mostrarPergunta();
}else{
avaliarResultado();
}
}

/* AVALIA PROVAS + INTERROGAT√ìRIO */
function avaliarResultado(){
const app=document.querySelector(".app");
const box=document.createElement("div");
box.className="game-box";

if(
suspeitoAtual==="Colega de Trabalho" &&
contradicoes>=2 &&
provas>=2
){
box.innerHTML=`
<h2>üöî Caso Resolvido</h2>
<p>As contradi√ß√µes e as provas levaram √† confiss√£o.</p>
<p>O colega de trabalho foi preso.</p>
<p><strong>Justi√ßa foi feita.</strong></p>
<button class="btn btn-primary" onclick="location.reload()">Voltar ao in√≠cio</button>
`;
}else{
box.innerHTML=`
<h2>‚ùå Provas Insuficientes</h2>
<p>O interrogat√≥rio n√£o sustentou a acusa√ß√£o.</p>
<button class="btn btn-primary" onclick="location.reload()">Tentar novamente</button>
`;
}

app.appendChild(box);
}
         </script>
