<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Investiga√ß√£o</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0e0e0e;
  color: #fff;
}
.hidden { display: none; }
button, #btnInstall {
  padding: 12px 20px;
  background: #b30000;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
  display: inline-block;
}
button:hover, #btnInstall:hover { background: #ff0000; }
.container { padding: 20px; max-width: 800px; margin: auto; }
img { max-width: 100%; border-radius: 10px; margin-top: 10px; }
h1, h2, h3 { color: #ff3b3b; }
.option {
  background: #1c1c1c;
  padding: 12px;
  border-radius: 6px;
  margin: 10px 0;
  cursor: pointer;
}
.option:hover { background: #2a2a2a; }
.dossie-final {
  background:#111;
  border:2px solid #b30000;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
}

/* Estilo para mensagens de celular */
.mensagem-celular {
  background: #1c1c1c;
  border-left: 4px solid #ff3b3b;
  padding: 12px;
  margin: 10px 0;
  border-radius: 6px;
  animation: piscar 1s infinite alternate;
}
@keyframes piscar {
  0% { opacity: 0.8; }
  100% { opacity: 1; }
}
</style>
</head>
<body>

<!-- CAPA -->
<section id="capa" class="container">
  <h1>INVESTIGA√á√ÉO</h1>
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Um desaparecimento. Mentiras entre amigos, segredos sombrios e uma verdade que ningu√©m quer revelar.</p>
  <button onclick="mostrarTelaCasos()">Iniciar Investiga√ß√£o</button>
  <div id="btnInstall" class="hidden">üì• Instalar Investiga√ß√£o</div>
</section>

<!-- TELA DE SELE√á√ÉO DE CASOS -->
<section id="telaCasos" class="container hidden">
  <h2>Escolha o Caso que deseja investigar</h2>
  <p>Cada caso cont√©m pistas, interrogat√≥rios e segredos. Escolha com cuidado!</p>
  <div class="option" onclick="iniciarCaso(1)">Cap√≠tulo 01 ‚Äî Caso Elisa Martins</div>
  <div class="option" onclick="iniciarCaso(2)">Cap√≠tulo 02 ‚Äî O Sil√™ncio da Testemunha</div>
  <div class="option" onclick="iniciarCaso(3)">Cap√≠tulo 03 ‚Äî O Mist√©rio do Laborat√≥rio</div>
  <div class="option" onclick="iniciarCaso(4)">Cap√≠tulo 04 ‚Äî O Roubo da Galeria</div>
</section>

<!-- INTRO -->
<section id="intro" class="container hidden">
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>
    Elisa enviou mensagens enigm√°ticas para amigos e familiares antes de desaparecer. Cada palavra, cada detalhe, pode ser uma pista crucial. Segredos antigos e press√µes desconhecidas come√ßam a surgir √† medida que o caso se aprofunda.  
    O investigador precisa analisar tudo com aten√ß√£o para desvendar a verdade.
  </p>
  <button onclick="mostrarCena1()">Acessar Dossi√™</button>
</section>

<!-- CASO 01 - CENAS -->
<section id="cena1" class="container hidden">
  <h2>Cena 1 ‚Äî √öltima Mensagem de Elisa</h2>
  <p>Elisa enviou esta mensagem pouco antes de desaparecer:</p>
  <div class="mensagem-celular" id="msg1">"Se algo me acontecer, procure o que est√° escondido no escrit√≥rio."</div>
  <button onclick="mostrarCena2()">Continuar</button>
</section>

<section id="cena2" class="container hidden">
  <h2>Cena 2 ‚Äî Local Suspeito</h2>
  <p>O investigador encontrou o escrit√≥rio de Elisa, com sinais de algu√©m ter mexido nas gavetas recentemente.</p>
  <div class="mensagem-celular" id="msg2">"Objetos fora do lugar indicam press√µes externas."</div>
  <button onclick="mostrarCena3()">Continuar</button>
</section>

<section id="cena3" class="container hidden">
  <h2>Cena 3 ‚Äî Descoberta Importante</h2>
  <p>Entre os pap√©is, o investigador encontra uma fotografia suspeita:</p>
  <img src="https://i.ibb.co/hFQwkyt0/IMG-20260116-WA0028.jpg" alt="Foto suspeita">
  <div class="mensagem-celular" id="msg3">"Algu√©m tentava coagir Elisa. Observe os detalhes do fundo."</div>
  <button onclick="mostrarInterrogatorio1()">Seguir para Interrogat√≥rio</button>
</section>

<!-- INTERROGAT√ìRIO AVAN√áADO -->
<section id="interrogatorio1" class="container hidden"></section>
<section id="resultado1" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 01</h2>
  <p id="textoResultado1"></p>
  <div class="dossie-final" id="dossieCulpado1"></div>
  <button onclick="iniciarCaso(2)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 02 -->
<section id="caso2" class="container hidden">
  <h2>Caso 02 ‚Äî O Sil√™ncio da Testemunha</h2>
  <p>
    Uma testemunha-chave que poderia revelar um esquema poderoso desapareceu misteriosamente.  
    Mensagens de alerta foram enviadas, mas ningu√©m conseguiu impedir que segredos perigosos fossem mantidos.  
    O investigador deve juntar cada fragmento de informa√ß√£o antes que evid√™ncias vitais desapare√ßam.
  </p>
  <button onclick="mostrarInterrogatorio2()">Iniciar Investiga√ß√£o</button>
</section>
<section id="interrogatorio2" class="container hidden"></section>
<section id="resultado2" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 02</h2>
  <p id="textoResultado2"></p>
  <div class="dossie-final" id="dossieCulpado2"></div>
  <button onclick="iniciarCaso(3)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 03 -->
<section id="caso3" class="container hidden">
  <h2>Caso 03 ‚Äî O Mist√©rio do Laborat√≥rio</h2>
  <p>
    No laborat√≥rio da cidade, experimentos desaparecem misteriosamente. Uma cientista √© encontrada trancada em seu escrit√≥rio, e documentos confidenciais sumiram.  
    O investigador deve descobrir quem est√° por tr√°s dos roubos e impedir que segredos perigosos sejam expostos.
  </p>
  <button onclick="mostrarInterrogatorio3()">Iniciar Investiga√ß√£o</button>
</section>
<section id="interrogatorio3" class="container hidden"></section>
<section id="resultado3" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 03</h2>
  <p id="textoResultado3"></p>
  <div class="dossie-final" id="dossieCulpado3"></div>
  <button onclick="iniciarCaso(4)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 04 -->
<section id="caso4" class="container hidden">
  <h2>Caso 04 ‚Äî O Roubo da Galeria</h2>
  <p>
    Uma famosa galeria de arte foi invadida e obras raras desapareceram.  
    O investigador precisa analisar c√¢meras, entrevistas com funcion√°rios e pistas deixadas pelos ladr√µes para descobrir o culpado.
  </p>
  <button onclick="mostrarInterrogatorio4()">Iniciar Investiga√ß√£o</button>
</section>
<section id="interrogatorio4" class="container hidden"></section>
<section id="resultado4" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 04</h2>
  <p id="textoResultado4"></p>
  <div class="dossie-final" id="dossieCulpado4"></div>
  <button onclick="mostrarTelaCasos()">üîô Voltar para Casos</button>
</section>

<script>
// Armazenar pistas por caso
let pistas = {1:{},2:{},3:{},4:{}};

// Fun√ß√£o efeito sonoro
function playNotif(){ const audio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg'); audio.play(); }

// Fun√ß√µes de navega√ß√£o
function esconderTudo(){ document.querySelectorAll('section').forEach(s=>s.classList.add('hidden')); }
function mostrarTelaCasos(){ esconderTudo(); telaCasos.classList.remove('hidden'); }
function iniciarCaso(num){
  esconderTudo();
  if(num===1) intro.classList.remove('hidden');
  if(num===2) caso2.classList.remove('hidden');
  if(num===3) caso3.classList.remove('hidden');
  if(num===4) caso4.classList.remove('hidden');
}
function mostrarCena1(){ esconderTudo(); cena1.classList.remove('hidden'); playNotif(); }
function mostrarCena2(){ esconderTudo(); cena2.classList.remove('hidden'); playNotif(); }
function mostrarCena3(){ esconderTudo(); cena3.classList.remove('hidden'); playNotif(); }
function mostrarInterrogatorio1(){ criarInterrogatorio(1,caso1); esconderTudo(); interrogatorio1.classList.remove('hidden'); }
function mostrarInterrogatorio2(){ criarInterrogatorio(2,caso2); esconderTudo(); interrogatorio2.classList.remove('hidden'); }
function mostrarInterrogatorio3(){ criarInterrogatorio(3,caso3); esconderTudo(); interrogatorio3.classList.remove('hidden'); }
function mostrarInterrogatorio4(){ criarInterrogatorio(4,caso4); esconderTudo(); interrogatorio4.classList.remove('hidden'); }

// Suspeitos
const caso1 = [
  {nome:'Lucas', rela√ßao:'Amigo de Elisa', alibi:'Estava no trabalho durante o desaparecimento.', perguntas:['Voc√™ viu algu√©m suspeito na casa de Elisa?','O que fazia na noite do desaparecimento?']},
  {nome:'Marina', rela√ßao:'Colega de trabalho', alibi:'Estava em reuni√£o fora da cidade.', perguntas:['Notou algo estranho na Elisa nos √∫ltimos dias?','Algu√©m te pediu para esconder algo?']},
  {nome:'Renato', rela√ßao:'Ex-namorado', alibi:'Alega ter estado sozinho em casa.', perguntas:['Voc√™ entrou no escrit√≥rio de Elisa recentemente?','Por que estava evitando Elisa?']},
  {nome:'Clara', rela√ßao:'Amiga de escola', alibi:'Estava em casa estudando.', perguntas:['Voc√™ sabia sobre os problemas de Elisa?','Algu√©m tentou te pressionar a mentir?']},
  {nome:'Henrique', rela√ßao:'Vizinho', alibi:'Estava viajando.', perguntas:['Voc√™ viu algu√©m estranho perto da casa de Elisa?','Algu√©m pediu sua ajuda para se esconder?']},
  {nome:'Paulo', rela√ßao:'Colega de faculdade', alibi:'Estava em aula online.', perguntas:['Voc√™ notou comportamentos estranhos de Elisa?','Algu√©m tentou se aproximar dela de forma suspeita?']}
];
const caso2 = JSON.parse(JSON.stringify(caso1));
const caso3 = JSON.parse(JSON.stringify(caso1));
const caso4 = JSON.parse(JSON.stringify(caso1));

// Fun√ß√£o para criar interrogat√≥rio com perguntas
function criarInterrogatorio(casoNum, suspeitos){
  const container = document.getElementById(`interrogatorio${casoNum}`);
  container.innerHTML = `<h2>Interrogat√≥rio ‚Äî Caso ${casoNum}</h2><p>Escolha perguntas para cada suspeito:</p>`;
  suspeitos.forEach(s => {
    let h3 = document.createElement('h3'); h3.innerText=`${s.nome} (${s.rela√ßao})`; container.appendChild(h3);
    let p = document.createElement('p'); p.innerText=`√Ålibi: ${s.alibi}`; container.appendChild(p);
    s.perguntas.forEach(pergunta=>{
      let btn = document.createElement('div');
      btn.className='option';
      btn.innerText=pergunta;
      btn.onclick = ()=>responderSuspeito(casoNum,s.nome,pergunta);
      container.appendChild(btn);
    });
  });
}

// Responder suspeito e mostrar escolha de pris√£o
function responderSuspeito(casoNum,nome,pergunta){
  if(!pistas[casoNum][nome]) pistas[casoNum][nome]=0;
  pistas[casoNum][nome]++;
  playNotif();
  alert(`${nome} responde: "Estou sendo interrogado sobre '${pergunta}'. ${nome} tenta explicar seu √°libi, mas h√° inconsist√™ncias."`);
  if(pistas[casoNum][nome]>=2){
    mostrarEscolhaPrisao(casoNum);
  }
}

// Mostrar escolha de pris√£o
function mostrarEscolhaPrisao(casoNum){
  esconderTudo();
  const container = document.getElementById(`interrogatorio${casoNum}`);
  container.innerHTML = `<h2>Escolha quem prender ‚Äî Caso ${casoNum}</h2>
                         <p>Revise as evid√™ncias e decida qual suspeito deve ser preso.</p>`;
  const suspeitos = window[`caso${casoNum}`];
  suspeitos.forEach(s=>{
    let btn = document.createElement('button');
    btn.innerText=`Prender ${s.nome}`;
    btn.onclick=()=>prenderSuspeito(casoNum,s.nome);
    btn.style.display='block';
    btn.style.margin='10px 0';
    container.appendChild(btn);
  });
}

// Fun√ß√£o de pris√£o
function prenderSuspeito(casoNum,nome){
  esconderTudo();
  const res=document.getElementById(`resultado${casoNum}`);
  res.classList.remove('hidden');
  document.getElementById(`textoResultado${casoNum}`).innerText=`${nome} foi preso pelo jogador!`;
  document.getElementById(`dossieCulpado${casoNum}`).innerHTML=`
    <h3>üöî Suspeito Preso</h3>
    <p><strong>Nome:</strong> ${nome}</p>
    <p><strong>Crime:</strong> Descri√ß√£o detalhada do crime no caso ${casoNum}</p>
    <p><strong>Evid√™ncias encontradas:</strong></p>
    <ul>
      <li>Mensagens suspeitas</li>
      <li>Fotografias e provas digitais</li>
      <li>Objetos suspeitos no local do crime</li>
      <li>Testemunhas confirmam presen√ßa</li>
    </ul>
    <p>O suspeito foi encaminhado √†s autoridades.</p>
    <img src="https://i.ibb.co/2Z8b2Fh/renato-prisao.png" alt="${nome} preso" style="width:100%;border-radius:10px;margin-top:10px;">
  `;
}

/* PWA */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault();
  deferredPrompt=e;
  btnInstall.classList.remove("hidden");
});
btnInstall.onclick=()=>{
  deferredPrompt.prompt();
  deferredPrompt=null;
  btnInstall.classList.add("hidden");
};
</script>
</body>
  </html>
