<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>InvestigaÃ§Ã£o AvanÃ§ada</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0e0e0e;
  color: #fff;
}
.hidden { display: none; }
button, #btnInstall {
  padding: 12px 20px;
  background: #b30000;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
  display: inline-block;
}
button:hover, #btnInstall:hover { background: #ff0000; }
.container { padding: 20px; max-width: 800px; margin: auto; }
img { max-width: 100%; border-radius: 10px; margin-top: 10px; }
h1, h2, h3 { color: #ff3b3b; }
.option {
  background: #1c1c1c;
  padding: 12px;
  border-radius: 6px;
  margin: 10px 0;
  cursor: pointer;
}
.option:hover { background: #2a2a2a; }
.dossie-final {
  background:#111;
  border:2px solid #b30000;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
}
.mensagem-celular {
  background: #1c1c1c;
  border-left: 4px solid #ff3b3b;
  padding: 12px;
  margin: 10px 0;
  border-radius: 6px;
  animation: piscar 1s infinite alternate;
}
@keyframes piscar {
  0% { opacity: 0.8; }
  100% { opacity: 1; }
}
</style>
</head>
<body>

<!-- CAPA -->
<section id="capa" class="container">
  <h1>INVESTIGAÃ‡ÃƒO AVANÃ‡ADA</h1>
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Segredos, mentiras e pistas escondidas. Cabe ao investigador descobrir a verdade por trÃ¡s de cada crime.</p>
  <button onclick="mostrarTelaCasos()">Iniciar InvestigaÃ§Ã£o</button>
  <div id="btnInstall" class="hidden">ğŸ“¥ Instalar InvestigaÃ§Ã£o</div>
</section>

<!-- TELA DE SELEÃ‡ÃƒO DE CASOS -->
<section id="telaCasos" class="container hidden">
  <h2>Escolha o Caso</h2>
  <p>Cada caso possui mÃºltiplos suspeitos, testemunhas e evidÃªncias ocultas. Escolha com cuidado!</p>
  <div class="option" onclick="iniciarCaso(1)">Caso 01 â€” O Desaparecimento de Elisa</div>
  <div class="option" onclick="iniciarCaso(2)">Caso 02 â€” O SilÃªncio da Testemunha</div>
  <div class="option" onclick="iniciarCaso(3)">Caso 03 â€” O MistÃ©rio do LaboratÃ³rio</div>
  <div class="option" onclick="iniciarCaso(4)">Caso 04 â€” O Roubo da Galeria</div>
</section>

<!-- INTRO -->
<section id="intro" class="container hidden">
  <h2>Bem-vindo Ã  investigaÃ§Ã£o</h2>
  <p>
    Elisa enviou mensagens misteriosas antes de desaparecer. Amigos, familiares e colegas escondem informaÃ§Ãµes cruciais.  
    Como investigador, vocÃª precisa analisar provas, interrogar suspeitos e descobrir a verdade por trÃ¡s do desaparecimento.
  </p>
  <button onclick="mostrarCena1()">Acessar DossiÃª</button>
</section>

<!-- CASO 01 - CENAS DETALHADAS -->
<section id="cena1" class="container hidden">
  <h2>Cena 1 â€” Ãšltima Mensagem de Elisa</h2>
  <p>Elisa parecia nervosa ao enviar esta mensagem para sua amiga Marina. A linguagem sugere medo e urgÃªncia.</p>
  <div class="mensagem-celular">"Se algo me acontecer, procure o que estÃ¡ escondido no escritÃ³rio."</div>
  <p><em>EvidÃªncia: Mensagem criptografada indicando local de pistas.</em></p>
  <button onclick="mostrarCena2()">Continuar</button>
</section>

<section id="cena2" class="container hidden">
  <h2>Cena 2 â€” O EscritÃ³rio</h2>
  <p>O escritÃ³rio de Elisa estava revirado. Gavetas abertas, papÃ©is fora do lugar e sinais de pressa.</p>
  <div class="mensagem-celular">"Objetos fora do lugar indicam pressÃµes externas."</div>
  <p><em>EvidÃªncias: Gavetas remexidas, diÃ¡rio desaparecido, cÃ¢mera de seguranÃ§a desligada.</em></p>
  <img src="https://i.ibb.co/9t0Ft0C/gavetas.png" alt="Gavetas remexidas">
  <button onclick="mostrarCena3()">Continuar</button>
</section>

<section id="cena3" class="container hidden">
  <h2>Cena 3 â€” Descoberta FotogrÃ¡fica</h2>
  <p>Uma fotografia mostra alguÃ©m suspeito prÃ³ximo a Elisa na noite de seu desaparecimento. HÃ¡ detalhes que podem incriminar.</p>
  <img src="https://i.ibb.co/hFQwkyt0/IMG-20260116-WA0028.jpg" alt="Foto suspeita">
  <div class="mensagem-celular">"Observe os detalhes do fundo, pode haver um cÃ³digo escondido."</div>
  <p><em>EvidÃªncia: Fotografia mostrando coaÃ§Ã£o ou ameaÃ§a direta Ã  vÃ­tima.</em></p>
  <button onclick="mostrarInterrogatorio1()">InterrogatÃ³rio AvanÃ§ado</button>
</section>

<!-- INTERROGATÃ“RIO 1 -->
<section id="interrogatorio1" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 01</h2>
  <p>Questione cada suspeito e compare os Ã¡libis com evidÃªncias. AtenÃ§Ã£o Ã s contradiÃ§Ãµes!</p>
  <div id="suspeitos1"></div>
</section>

<section id="resultado1" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 01</h2>
  <p id="textoResultado1"></p>
  <div class="dossie-final" id="dossieCulpado1"></div>
  <button onclick="iniciarCaso(2)">â¡ PrÃ³ximo Caso</button>
</section>

<!-- CASO 02 -->
<section id="caso2" class="container hidden">
  <h2>Caso 02 â€” O SilÃªncio da Testemunha</h2>
  <p>Uma testemunha-chave desapareceu. Mensagens indicam pressÃµes e ameaÃ§as. Ã‰ preciso descobrir a verdade antes que evidÃªncias desapareÃ§am.</p>
  <button onclick="mostrarInterrogatorio2()">Iniciar InterrogatÃ³rio</button>
</section>

<section id="interrogatorio2" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 02</h2>
  <p>Questione suspeitos e compare Ã¡libis com evidÃªncias encontradas.</p>
  <div id="suspeitos2"></div>
</section>

<section id="resultado2" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 02</h2>
  <p id="textoResultado2"></p>
  <div class="dossie-final" id="dossieCulpado2"></div>
  <button onclick="iniciarCaso(3)">â¡ PrÃ³ximo Caso</button>
</section>

<!-- CASO 03 -->
<section id="caso3" class="container hidden">
  <h2>Caso 03 â€” O MistÃ©rio do LaboratÃ³rio</h2>
  <p>Documentos confidenciais desapareceram, e experimentos foram sabotados. CÃ¢meras indicam presenÃ§a suspeita.</p>
  <button onclick="mostrarInterrogatorio3()">Iniciar InterrogatÃ³rio</button>
</section>

<section id="interrogatorio3" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 03</h2>
  <p>Questione suspeitos, compare com registros de acesso e evidÃªncias digitais.</p>
  <div id="suspeitos3"></div>
</section>

<section id="resultado3" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 03</h2>
  <p id="textoResultado3"></p>
  <div class="dossie-final" id="dossieCulpado3"></div>
  <button onclick="iniciarCaso(4)">â¡ PrÃ³ximo Caso</button>
</section>

<!-- CASO 04 -->
<section id="caso4" class="container hidden">
  <h2>Caso 04 â€” O Roubo da Galeria</h2>
  <p>Obras raras desaparecem. EvidÃªncias: cÃ¢meras, testemunhas e pegadas. Suspeitos tentam confundir o investigador.</p>
  <button onclick="mostrarInterrogatorio4()">Iniciar InterrogatÃ³rio</button>
</section>

<section id="interrogatorio4" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 04</h2>
  <p>Questione cada suspeito cuidadosamente, ligando provas a Ã¡libis.</p>
  <div id="suspeitos4"></div>
</section>

<section id="resultado4" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 04</h2>
  <p id="textoResultado4"></p>
  <div class="dossie-final" id="dossieCulpado4"></div>
  <button onclick="mostrarTelaCasos()">ğŸ”™ Voltar para Casos</button>
</section>

<script>
// ======== SUSPEITOS ========
function criarSuspeitos(idContainer, casoNum, suspeitos){
  let container = document.getElementById(idContainer);
  container.innerHTML = '';
  suspeitos.forEach(s => {
    let h3 = document.createElement('h3');
    h3.innerText = `${s.nome} (${s.relaÃ§ao})`;
    let p = document.createElement('p');
    p.innerText = `Ãlibi: ${s.alibi}`;
    container.appendChild(h3);
    container.appendChild(p);
    s.perguntas.forEach(pergunta => {
      let div = document.createElement('div');
      div.className='option';
      div.innerText=pergunta;
      div.onclick = ()=>responderSuspeito(casoNum, s.nome, pergunta);
      container.appendChild(div);
    });
  });
}

let pistas = {1:{},2:{},3:{},4:{}};

function responderSuspeito(casoNum, nome, pergunta){
  if(!pistas[casoNum][nome]) pistas[casoNum][nome]=0;
  pistas[casoNum][nome]++;
  playNotif();

  // Resposta detalhada
  alert(`${nome} responde: "Estou sendo interrogado sobre '${pergunta}'. ${nome} tenta explicar seu Ã¡libi, mas hÃ¡ inconsistÃªncias."`);

  if(pistas[casoNum][nome]>=2){
    esconderTudo();
    document.getElementById(`resultado${casoNum}`).classList.remove('hidden');
    document.getElementById(`textoResultado${casoNum}`).innerText = `${nome} foi desmascarado no interrogatÃ³rio!`;

    document.getElementById(`dossieCulpado${casoNum}`).innerHTML = `
      <h3>ğŸš” Culpado Preso</h3>
      <p><strong>Nome:</strong> ${nome}</p>
      <p><strong>Crime:</strong> DescriÃ§Ã£o detalhada do crime no caso ${casoNum}</p>
      <p>Provas:</p>
      <ul>
        <li>Objetos suspeitos no local do crime.</li>
        <li>Mensagens de alerta da vÃ­tima.</li>
        <li>Fotografias e evidÃªncias digitais.</li>
        <li>Testemunhas confirmam presenÃ§a suspeita.</li>
      </ul>
      <p>O suspeito foi preso e encaminhado Ã s autoridades.</p>
      <img src="https://i.ibb.co/2Z8b2Fh/renato-prisao.png" alt="${nome} preso" style="width:100%;border-radius:10px;margin-top:10px;">
    `;
  }
}

function esconderTudo(){ document.querySelectorAll('section').forEach(s=>s.classList.add('hidden')); }
function mostrarTelaCasos(){ esconderTudo(); telaCasos.classList.remove('hidden'); }
function iniciarCaso(num){
  esconderTudo();
  if(num===1) intro.classList.remove('hidden');
  if(num===2) caso2.classList.remove('hidden');
  if(num===3) caso3.classList.remove('hidden');
  if(num===4) caso4.classList.remove('hidden');
}

// Cenas e interrogatÃ³rios
function mostrarCena1(){ esconderTudo(); cena1.classList.remove('hidden'); playNotif(); }
function mostrarCena2(){ esconderTudo(); cena2.classList.remove('hidden'); playNotif(); }
function mostrarCena3(){ esconderTudo(); cena3.classList.remove('hidden'); playNotif(); }
function mostrarInterrogatorio1(){ esconderTudo(); interrogatorio1.classList.remove('hidden'); }
function mostrarInterrogatorio2(){ esconderTudo(); interrogatorio2.classList.remove('hidden'); }
function mostrarInterrogatorio3(){ esconderTudo(); interrogatorio3.classList.remove('hidden'); }
function mostrarInterrogatorio4(){ esconderTudo(); interrogatorio4.classList.remove('hidden'); }

function playNotif(){
  const audio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');
  audio.play();
}

// ======== SUSPEITOS CASOS ========
const caso1 = [
  {nome:'Lucas', relaÃ§ao:'Amigo de Elisa', alibi:'No trabalho durante desaparecimento.', perguntas:['VocÃª viu alguÃ©m suspeito na casa de Elisa?','O que fazia na noite do desaparecimento?']},
  {nome:'Marina', relaÃ§ao:'Colega de trabalho', alibi:'ReuniÃ£o fora da cidade.', perguntas:['Notou algo estranho em Elisa?','AlguÃ©m pediu para esconder algo?']},
  {nome:'Renato', relaÃ§ao:'Ex-namorado', alibi:'Em casa sozinho.', perguntas:['Entrou no escritÃ³rio de Elisa recentemente?','Por que evitava Elisa?']},
  {nome:'Clara', relaÃ§ao:'Amiga de escola', alibi:'Estava estudando em casa.', perguntas:['Sabia dos problemas de Elisa?','AlguÃ©m tentou pressionar vocÃª a mentir?']},
  {nome:'Henrique', relaÃ§ao:'Vizinho', alibi:'Viajando.', perguntas:['Viu alguÃ©m estranho perto da casa de Elisa?','AlguÃ©m pediu ajuda para se esconder?']},
  {nome:'Paulo', relaÃ§ao:'Colega de faculdade', alibi:'Aula online.', perguntas:['Notou comportamento estranho de Elisa?','AlguÃ©m tentou se aproximar de forma suspeita?']}
];

const caso2 = JSON.parse(JSON.stringify(caso1));
const caso3 = JSON.parse(JSON.stringify(caso1));
const caso4 = JSON.parse(JSON.stringify(caso1));

criarSuspeitos('suspeitos1',1,caso1);
criarSuspeitos('suspeitos2',2,caso2);
criarSuspeitos('suspeitos3',3,caso3);
criarSuspeitos('suspeitos4',4,caso4);

/* PWA */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault();
  deferredPrompt=e;
  btnInstall.classList.remove("hidden");
});
btnInstall.onclick=()=>{
  deferredPrompt.prompt();
  deferredPrompt=null;
  btnInstall.classList.add("hidden");
};
</script>
</body>
  </html>
