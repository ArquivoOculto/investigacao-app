<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Investiga√ß√£o</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
body { margin:0; font-family:Arial,sans-serif; background:#0e0e0e; color:#fff; }
.hidden { display:none; }
button, #btnInstall { padding:12px 20px; background:#b30000; color:#fff; border:none; border-radius:6px; cursor:pointer; margin-top:10px; display:inline-block; }
button:hover, #btnInstall:hover { background:#ff0000; }
.container { padding:20px; max-width:800px; margin:auto; }
img { max-width:100%; border-radius:10px; margin-top:10px; }
h1,h2,h3 { color:#ff3b3b; }
.option { background:#1c1c1c; padding:12px; border-radius:6px; margin:10px 0; cursor:pointer; }
.option:hover { background:#2a2a2a; }
.dossie-final { background:#111; border:2px solid #b30000; padding:20px; border-radius:10px; margin-top:20px; }
.mensagem-celular { background:#1c1c1c; border-left:4px solid #ff3b3b; padding:12px; margin:10px 0; border-radius:6px; animation:piscar 1s infinite alternate; }
@keyframes piscar { 0%{opacity:0.8}100%{opacity:1} }
</style>
</head>
<body>

<!-- CAPA -->
<section id="capa" class="container">
  <h1>INVESTIGA√á√ÉO</h1>
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Um desaparecimento. Mentiras entre amigos, segredos sombrios e uma verdade que ningu√©m quer revelar.</p>
  <button onclick="mostrarTelaCasos()">Iniciar Investiga√ß√£o</button>
  <div id="btnInstall" class="hidden">üì• Instalar Investiga√ß√£o</div>
</section>

<!-- SELE√á√ÉO DE CASOS -->
<section id="telaCasos" class="container hidden">
  <h2>Escolha o Caso</h2>
  <div class="option" onclick="iniciarCaso(1)">Cap√≠tulo 01 ‚Äî Caso Elisa Martins</div>
  <div class="option" onclick="iniciarCaso(2)">Cap√≠tulo 02 ‚Äî O Sil√™ncio da Testemunha</div>
  <div class="option" onclick="iniciarCaso(3)">Cap√≠tulo 03 ‚Äî O Mist√©rio do Laborat√≥rio</div>
  <div class="option" onclick="iniciarCaso(4)">Cap√≠tulo 04 ‚Äî O Roubo da Galeria</div>
</section>

<!-- INTRO CASO 1 -->
<section id="intro" class="container hidden">
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Elisa enviou mensagens enigm√°ticas para amigos e familiares antes de desaparecer. Segredos antigos e press√µes desconhecidas surgem a cada pista.</p>
  <button onclick="mostrarCena1()">Acessar Dossi√™</button>
</section>

<!-- CASO 1 - CENAS -->
<section id="cena1" class="container hidden">
  <h2>Cena 1 ‚Äî √öltima Mensagem</h2>
  <div class="mensagem-celular">"Se algo me acontecer, procure o que est√° escondido no escrit√≥rio."</div>
  <button onclick="mostrarCena2()">Continuar</button>
</section>

<section id="cena2" class="container hidden">
  <h2>Cena 2 ‚Äî Local Suspeito</h2>
  <p>O escrit√≥rio de Elisa mostra sinais de invas√£o.</p>
  <div class="mensagem-celular">"Objetos fora do lugar indicam press√µes externas."</div>
  <button onclick="mostrarCena3()">Continuar</button>
</section>

<section id="cena3" class="container hidden">
  <h2>Cena 3 ‚Äî Descoberta Importante</h2>
  <img src="https://i.ibb.co/hFQwkyt0/IMG-20260116-WA0028.jpg" alt="Foto suspeita">
  <div class="mensagem-celular">"Algu√©m tentava coagir Elisa. Observe os detalhes do fundo."</div>
  <button onclick="mostrarCena4()">Continuar</button>
</section>

<section id="cena4" class="container hidden">
  <h2>Cena 4 ‚Äî Di√°rio</h2>
  <p>O di√°rio revela encontros secretos e poss√≠veis amea√ßas.</p>
  <button onclick="mostrarInterrogatorio1()">Seguir para Interrogat√≥rio</button>
</section>

<!-- INTERROGAT√ìRIO CASO 1 -->
<section id="interrogatorio1" class="container hidden"></section>

<section id="resultado1" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 01</h2>
  <p id="textoResultado1"></p>
  <div class="dossie-final" id="dossieCulpado1"></div>
  <button onclick="iniciarCaso(2)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 2 -->
<section id="caso2" class="container hidden">
  <h2>Caso 02 ‚Äî O Sil√™ncio da Testemunha</h2>
  <p>Uma testemunha desapareceu. Cabe ao investigador juntar fragmentos de informa√ß√£o.</p>
  <button onclick="mostrarInterrogatorio2()">Iniciar Investiga√ß√£o</button>
</section>

<section id="interrogatorio2" class="container hidden"></section>
<section id="resultado2" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 02</h2>
  <p id="textoResultado2"></p>
  <div class="dossie-final" id="dossieCulpado2"></div>
  <button onclick="iniciarCaso(3)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 3 -->
<section id="caso3" class="container hidden">
  <h2>Caso 03 ‚Äî O Mist√©rio do Laborat√≥rio</h2>
  <p>Experimentos desaparecem e documentos confidenciais somem. O investigador deve descobrir os culpados.</p>
  <button onclick="mostrarInterrogatorio3()">Iniciar Investiga√ß√£o</button>
</section>

<section id="interrogatorio3" class="container hidden"></section>
<section id="resultado3" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 03</h2>
  <p id="textoResultado3"></p>
  <div class="dossie-final" id="dossieCulpado3"></div>
  <button onclick="iniciarCaso(4)">‚û° Pr√≥ximo Caso</button>
</section>

<!-- CASO 4 -->
<section id="caso4" class="container hidden">
  <h2>Caso 04 ‚Äî O Roubo da Galeria</h2>
  <p>Obras raras desapareceram e pistas devem ser analisadas.</p>
  <button onclick="mostrarInterrogatorio4()">Iniciar Investiga√ß√£o</button>
</section>

<section id="interrogatorio4" class="container hidden"></section>
<section id="resultado4" class="container hidden">
  <h2>Conclus√£o ‚Äî Caso 04</h2>
  <p id="textoResultado4"></p>
  <div class="dossie-final" id="dossieCulpado4"></div>
  <button onclick="mostrarTelaCasos()">üîô Voltar para Casos</button>
</section>

<script>
let pistas={1:{},2:{},3:{},4:{}};

function esconderTudo(){ document.querySelectorAll('section').forEach(s=>s.classList.add('hidden')); }
function mostrarTelaCasos(){ esconderTudo(); telaCasos.classList.remove('hidden'); }
function iniciarCaso(num){
  esconderTudo();
  if(num===1) intro.classList.remove('hidden');
  if(num===2) caso2.classList.remove('hidden');
  if(num===3) caso3.classList.remove('hidden');
  if(num===4) caso4.classList.remove('hidden');
}

function playNotif(){ new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg').play(); }

function mostrarCena1(){ esconderTudo(); cena1.classList.remove('hidden'); playNotif(); }
function mostrarCena2(){ esconderTudo(); cena2.classList.remove('hidden'); playNotif(); }
function mostrarCena3(){ esconderTudo(); cena3.classList.remove('hidden'); playNotif(); }
function mostrarCena4(){ esconderTudo(); cena4.classList.remove('hidden'); playNotif(); }

function mostrarInterrogatorio1(){ esconderTudo(); criarInterrogatorio(1, caso1); }
function mostrarInterrogatorio2(){ esconderTudo(); criarInterrogatorio(2, caso2); }
function mostrarInterrogatorio3(){ esconderTudo(); criarInterrogatorio(3, caso3); }
function mostrarInterrogatorio4(){ esconderTudo(); criarInterrogatorio(4, caso4); }

// ======== SUSPEITOS ========
const caso1 = [
  {nome:'Lucas', relacao:'Amigo de Elisa', alibi:'Estava no trabalho', respostas:['Eu estava no escrit√≥rio o dia inteiro.','N√£o vi ningu√©m estranho naquela noite.']},
  {nome:'Marina', relacao:'Colega', alibi:'Em reuni√£o fora', respostas:['N√£o notei nada de suspeito.','Algu√©m me pediu para esconder documentos? N√£o.']},
  {nome:'Renato', relacao:'Ex-namorado', alibi:'Em casa sozinho', respostas:['N√£o entrei no escrit√≥rio de Elisa.','Evitei Elisa por motivos pessoais.']},
  {nome:'Clara', relacao:'Amiga de escola', alibi:'Em casa estudando', respostas:['N√£o sabia dos problemas de Elisa.','Ningu√©m tentou me pressionar.']},
  {nome:'Henrique', relacao:'Vizinho', alibi:'Viajando', respostas:['N√£o vi ningu√©m suspeito.','Ningu√©m me pediu ajuda.']},
  {nome:'Paulo', relacao:'Colega de faculdade', alibi:'Aula online', respostas:['N√£o notei comportamento estranho.','N√£o tentei me aproximar dela.']}
];

const caso2 = JSON.parse(JSON.stringify(caso1));
const caso3 = JSON.parse(JSON.stringify(caso1));
const caso4 = JSON.parse(JSON.stringify(caso1));

function criarInterrogatorio(casoNum,suspeitos){
  const container=document.getElementById(`interrogatorio${casoNum}`);
  container.classList.remove('hidden');
  container.innerHTML=`<h2>Interrogat√≥rio ‚Äî Caso ${casoNum}</h2><p>Escolha perguntas para cada suspeito:</p>`;
  suspeitos.forEach((s,index)=>{
    let h3=document.createElement('h3'); h3.innerText=`${s.nome} (${s.relacao})`; container.appendChild(h3);
    let p=document.createElement('p'); p.innerText=`√Ålibi: ${s.alibi}`; container.appendChild(p);
    s.respostas.forEach((resposta,i)=>{
      let btn=document.createElement('div');
      btn.className='option';
      btn.innerText=`Pergunta ${i+1}`;
      btn.onclick=()=>{
        pistas[casoNum][s.nome]=(pistas[casoNum][s.nome]||0)+1;
        playNotif();
        alert(`${s.nome} responde: "${resposta}"`);
        if(pistas[casoNum][s.nome]>=2) mostrarEscolhaPrisao(casoNum);
      };
      container.appendChild(btn);
    });
  });
}

function mostrarEscolhaPrisao(casoNum){
  esconderTudo();
  const container=document.getElementById(`interrogatorio${casoNum}`);
  container.classList.remove('hidden');
  container.innerHTML=`<h2>Escolha quem ser√° preso ‚Äî Caso ${casoNum}</h2>`;
  Object.keys(pistas[casoNum]).forEach(nome=>{
    let btn=document.createElement('div');
    btn.className='option';
    btn.innerText=`Prender ${nome}`;
    btn.onclick=()=>{
      esconderTudo();
      document.getElementById(`resultado${casoNum}`).classList.remove('hidden');
      document.getElementById(`textoResultado${casoNum}`).innerText=`${nome} foi preso com base nas evid√™ncias!`;
      document.getElementById(`dossieCulpado${casoNum}`).innerHTML=`
        <h3>üöî Culpado Preso</h3>
        <p><strong>Nome:</strong> ${nome}</p>
        <p><strong>Crime:</strong> Descri√ß√£o detalhada do crime no caso ${casoNum}</p>
        <p>O suspeito foi preso e encaminhado √†s autoridades.</p>
        <img src="https://i.ibb.co/2Z8b2Fh/renato-prisao.png" style="width:100%;border-radius:10px;margin-top:10px;">
      `;
    };
    container.appendChild(btn);
  });
}

/* PWA */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault(); deferredPrompt=e; btnInstall.classList.remove("hidden");
});
btnInstall.onclick=()=>{ deferredPrompt.prompt(); deferredPrompt=null; btnInstall.classList.add("hidden"); };
</script>

</body>
  </html>
