<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>InvestigaÃ§Ã£o</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
body { margin:0; font-family:Arial,sans-serif; background:#0e0e0e; color:#fff; }
.hidden { display:none; }
button, #btnInstall { padding:12px 20px; background:#b30000; color:#fff; border:none; border-radius:6px; cursor:pointer; margin-top:10px; display:inline-block; }
button:hover, #btnInstall:hover { background:#ff0000; }
.container { padding:20px; max-width:800px; margin:auto; }
img { max-width:100%; border-radius:10px; margin-top:10px; }
h1,h2,h3 { color:#ff3b3b; }
.option { background:#1c1c1c; padding:12px; border-radius:6px; margin:10px 0; cursor:pointer; }
.option:hover { background:#2a2a2a; }
.dossie-final { background:#111; border:2px solid #b30000; padding:20px; border-radius:10px; margin-top:20px; }
.mensagem-celular { background:#1c1c1c; border-left:4px solid #ff3b3b; padding:12px; margin:10px 0; border-radius:6px; animation:piscar 1s infinite alternate; }
@keyframes piscar { 0% { opacity:0.8; } 100% { opacity:1; } }
</style>
</head>
<body>

<!-- CAPA -->
<section id="capa" class="container">
  <h1>INVESTIGAÃ‡ÃƒO</h1>
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Um desaparecimento. Mentiras entre amigos, segredos sombrios e uma verdade que ninguÃ©m quer revelar.</p>
  <button onclick="mostrarTelaCasos()">Iniciar InvestigaÃ§Ã£o</button>
  <div id="btnInstall" class="hidden">ğŸ“¥ Instalar InvestigaÃ§Ã£o</div>
</section>

<!-- TELA DE CASOS -->
<section id="telaCasos" class="container hidden">
  <h2>Escolha o Caso que deseja investigar</h2>
  <div class="option" onclick="iniciarCaso(1)">CapÃ­tulo 01 â€” Caso Elisa Martins</div>
  <div class="option" onclick="iniciarCaso(2)">CapÃ­tulo 02 â€” O SilÃªncio da Testemunha</div>
  <div class="option" onclick="iniciarCaso(3)">CapÃ­tulo 03 â€” O MistÃ©rio do LaboratÃ³rio</div>
  <div class="option" onclick="iniciarCaso(4)">CapÃ­tulo 04 â€” O Roubo da Galeria</div>
</section>

<!-- INTRO -->
<section id="intro" class="container hidden">
  <img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
  <p>Elisa enviou mensagens enigmÃ¡ticas para amigos e familiares antes de desaparecer. Cada detalhe pode ser uma pista crucial.</p>
  <button onclick="mostrarCena1()">Acessar DossiÃª</button>
</section>

<!-- CASO 01 CENAS -->
<section id="cena1" class="container hidden">
  <h2>Cena 1 â€” Ãšltima Mensagem de Elisa</h2>
  <div class="mensagem-celular">"Se algo me acontecer, procure o que estÃ¡ escondido no escritÃ³rio."</div>
  <button onclick="mostrarCena2()">Continuar</button>
</section>

<section id="cena2" class="container hidden">
  <h2>Cena 2 â€” Local Suspeito</h2>
  <div class="mensagem-celular">"Objetos fora do lugar indicam pressÃµes externas."</div>
  <button onclick="mostrarCena3()">Continuar</button>
</section>

<section id="cena3" class="container hidden">
  <h2>Cena 3 â€” Descoberta Importante</h2>
  <img src="https://i.ibb.co/hFQwkyt0/IMG-20260116-WA0028.jpg" alt="Foto suspeita">
  <div class="mensagem-celular">"AlguÃ©m tentava coagir Elisa. Observe os detalhes do fundo."</div>
  <button onclick="mostrarInterrogatorio1()">Seguir para InterrogatÃ³rio</button>
</section>

<!-- INTERROGATÃ“RIOS -->
<section id="interrogatorio1" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 01</h2>
  <div id="suspeitos1"></div>
</section>

<section id="escolhaPreso1" class="container hidden">
  <h2>DecisÃ£o Final â€” Caso 01</h2>
  <p>Escolha quem serÃ¡ preso:</p>
  <div id="opcoesPreso1"></div>
</section>

<section id="resultado1" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 01</h2>
  <div class="dossie-final" id="dossieCulpado1"></div>
  <button onclick="iniciarCaso(2)">â¡ PrÃ³ximo Caso</button>
</section>

<!-- INTERROGATÃ“RIO CASO 02 -->
<section id="caso2" class="container hidden">
  <h2>Caso 02 â€” O SilÃªncio da Testemunha</h2>
  <button onclick="mostrarInterrogatorio2()">Iniciar InvestigaÃ§Ã£o</button>
</section>
<section id="interrogatorio2" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 02</h2>
  <div id="suspeitos2"></div>
</section>
<section id="escolhaPreso2" class="container hidden">
  <h2>DecisÃ£o Final â€” Caso 02</h2>
  <p>Escolha quem serÃ¡ preso:</p>
  <div id="opcoesPreso2"></div>
</section>
<section id="resultado2" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 02</h2>
  <div class="dossie-final" id="dossieCulpado2"></div>
  <button onclick="iniciarCaso(3)">â¡ PrÃ³ximo Caso</button>
</section>

<!-- INTERROGATÃ“RIO CASO 03 -->
<section id="caso3" class="container hidden">
  <h2>Caso 03 â€” O MistÃ©rio do LaboratÃ³rio</h2>
  <button onclick="mostrarInterrogatorio3()">Iniciar InvestigaÃ§Ã£o</button>
</section>
<section id="interrogatorio3" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 03</h2>
  <div id="suspeitos3"></div>
</section>
<section id="escolhaPreso3" class="container hidden">
  <h2>DecisÃ£o Final â€” Caso 03</h2>
  <p>Escolha quem serÃ¡ preso:</p>
  <div id="opcoesPreso3"></div>
</section>
<section id="resultado3" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 03</h2>
  <div class="dossie-final" id="dossieCulpado3"></div>
  <button onclick="iniciarCaso(4)">â¡ PrÃ³ximo Caso</button>
</section>

<!-- INTERROGATÃ“RIO CASO 04 -->
<section id="caso4" class="container hidden">
  <h2>Caso 04 â€” O Roubo da Galeria</h2>
  <button onclick="mostrarInterrogatorio4()">Iniciar InvestigaÃ§Ã£o</button>
</section>
<section id="interrogatorio4" class="container hidden">
  <h2>InterrogatÃ³rio â€” Caso 04</h2>
  <div id="suspeitos4"></div>
</section>
<section id="escolhaPreso4" class="container hidden">
  <h2>DecisÃ£o Final â€” Caso 04</h2>
  <p>Escolha quem serÃ¡ preso:</p>
  <div id="opcoesPreso4"></div>
</section>
<section id="resultado4" class="container hidden">
  <h2>ConclusÃ£o â€” Caso 04</h2>
  <div class="dossie-final" id="dossieCulpado4"></div>
  <button onclick="mostrarTelaCasos()">ğŸ”™ Voltar para Casos</button>
</section>

<script>
// FunÃ§Ãµes gerais
function esconderTudo(){ document.querySelectorAll('section').forEach(s=>s.classList.add('hidden')); }
function mostrarTelaCasos(){ esconderTudo(); telaCasos.classList.remove('hidden'); }
function playNotif(){ new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg').play(); }

// FunÃ§Ã£o iniciar caso
function iniciarCaso(num){
  esconderTudo();
  if(num===1) intro.classList.remove('hidden');
  if(num===2) caso2.classList.remove('hidden');
  if(num===3) caso3.classList.remove('hidden');
  if(num===4) caso4.classList.remove('hidden');
}

// CriaÃ§Ã£o de suspeitos
const suspeitosBase = [
  {nome:'Lucas', relaÃ§ao:'Amigo', alibi:'Estava no trabalho.', perguntas:['VocÃª viu alguÃ©m suspeito?','O que fazia na noite do desaparecimento?'], resposta:'NÃ£o, estava no trabalho.'},
  {nome:'Marina', relaÃ§ao:'Colega', alibi:'Estava em reuniÃ£o.', perguntas:['Notou algo estranho?','AlguÃ©m pediu para esconder algo?'], resposta:'NÃ£o reparei em nada.'},
  {nome:'Renato', relaÃ§ao:'Ex-namorado', alibi:'Alega ter estado sozinho.', perguntas:['Entrou no escritÃ³rio recentemente?','Por que evitava Elisa?'], resposta:'NÃ£o entrei, precisava de espaÃ§o.'},
  {nome:'Clara', relaÃ§ao:'Amiga', alibi:'Estava estudando.', perguntas:['Sabia dos problemas de Elisa?','AlguÃ©m tentou te pressionar a mentir?'], resposta:'NÃ£o sabia de nada.'},
  {nome:'Henrique', relaÃ§ao:'Vizinho', alibi:'Estava viajando.', perguntas:['Viu alguÃ©m estranho perto da casa?','AlguÃ©m pediu ajuda?'], resposta:'NÃ£o, estava fora.'},
  {nome:'Paulo', relaÃ§ao:'Colega', alibi:'Estava em aula online.', perguntas:['Notou comportamentos estranhos?','AlguÃ©m tentou se aproximar dela?'], resposta:'NÃ£o percebi nada.'}
];

const casos = {
  1: JSON.parse(JSON.stringify(suspeitosBase)),
  2: JSON.parse(JSON.stringify(suspeitosBase)),
  3: JSON.parse(JSON.stringify(suspeitosBase)),
  4: JSON.parse(JSON.stringify(suspeitosBase))
};

// FunÃ§Ã£o para criar suspeitos com perguntas
function criarSuspeitos(idContainer, casoNum){
  let container = document.getElementById(idContainer);
  container.innerHTML='';
  casos[casoNum].forEach(s => {
    let h3=document.createElement('h3'); h3.innerText=`${s.nome} (${s.relaÃ§ao})`;
    let p=document.createElement('p'); p.innerText=`Ãlibi: ${s.alibi}`;
    container.appendChild(h3); container.appendChild(p);
    s.perguntas.forEach(pergunta=>{
      let div=document.createElement('div'); div.className='option'; div.innerText=pergunta;
      div.onclick=()=>{ alert(`${s.nome} responde: "${s.resposta}"`); mostrarEscolhaPreso(casoNum); };
      container.appendChild(div);
    });
  });
}

// FunÃ§Ã£o mostrar escolha de preso
function mostrarEscolhaPreso(casoNum){
  esconderTudo();
  let sec=document.getElementById(`escolhaPreso${casoNum}`);
  let opcoes=document.getElementById(`opcoesPreso${casoNum}`);
  opcoes.innerHTML='';
  casos[casoNum].forEach(s=>{
    let btn=document.createElement('div'); btn.className='option';
    btn.innerText=`Prender ${s.nome}`;
    btn.onclick=()=> mostrarResultado(casoNum, s.nome);
    opcoes.appendChild(btn);
  });
  sec.classList.remove('hidden');
}

// FunÃ§Ã£o mostrar resultado final
function mostrarResultado(casoNum, nome){
  esconderTudo();
  document.getElementById(`resultado${casoNum}`).classList.remove('hidden');
  document.getElementById(`dossieCulpado${casoNum}`).innerHTML=`
    <h3>ğŸš” Culpado Preso</h3>
    <p><strong>Nome:</strong> ${nome}</p>
    <p><strong>Crime:</strong> DescriÃ§Ã£o detalhada do crime no caso ${casoNum}</p>
    <p>O suspeito foi preso e encaminhado Ã s autoridades.</p>
    <img src="https://i.ibb.co/2Z8b2Fh/renato-prisao.png" style="width:100%;border-radius:10px;margin-top:10px;">
  `;
}

// Criar todos suspeitos inicialmente
criarSuspeitos('suspeitos1',1);
criarSuspeitos('suspeitos2',2);
criarSuspeitos('suspeitos3',3);
criarSuspeitos('suspeitos4',4);

/* PWA */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault(); deferredPrompt=e; btnInstall.classList.remove("hidden");
});
btnInstall.onclick=()=>{ deferredPrompt.prompt(); deferredPrompt=null; btnInstall.classList.add("hidden"); };
</script>
</body>
</html>
