<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>InvestigaÃ§Ã£o</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0e0e0e;
  color: #fff;
}
.hidden { display: none; }
button, #btnInstall {
  padding: 12px 20px;
  background: #b30000;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
  display: inline-block;
}
button:hover, #btnInstall:hover { background: #ff0000; }
.container { padding: 20px; max-width: 800px; margin: auto; }
img { max-width: 100%; border-radius: 10px; margin-top: 10px; }
h1, h2, h3 { color: #ff3b3b; }
.option {
  background: #1c1c1c;
  padding: 12px;
  border-radius: 6px;
  margin: 10px 0;
  cursor: pointer;
}
.option:hover { background: #2a2a2a; }
.dossie-final {
  background:#111;
  border:2px solid #b30000;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
}
.capitulo-map {
  background: #111;
  border: 2px solid #ff3b3b;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
}
.capitulo-map h3 { margin-top: 0; }
.capitulo-map p { margin: 4px 0; }

/* Estilo para mensagens de celular */
.mensagem-celular {
  background: #1c1c1c;
  border-left: 4px solid #ff3b3b;
  padding: 12px;
  margin: 10px 0;
  border-radius: 6px;
  animation: piscar 1s infinite alternate;
}
@keyframes piscar {
  0% { opacity: 0.8; }
  100% { opacity: 1; }
}
</style>
</head>

<body>

<!-- CAPA -->
<section id="capa" class="container">
<h1>INVESTIGAÃ‡ÃƒO</h1>
<img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
<p>Um desaparecimento. Mentiras entre amigos, segredos sombrios e uma verdade que ninguÃ©m quer revelar.</p>
<button onclick="mostrarTelaCasos()">Iniciar InvestigaÃ§Ã£o</button>
<div id="btnInstall" class="hidden">ğŸ“¥ Instalar InvestigaÃ§Ã£o</div>

<!-- MAPA DE CAPÃTULOS -->
<div class="capitulo-map">
<h3>Mapa de CapÃ­tulos</h3>
<p>CapÃ­tulo 01 â€” Caso Elisa Martins <strong>(ConfidÃªncia: Alta)</strong></p>
<p>CapÃ­tulo 02 â€” O SilÃªncio da Testemunha <strong>(ConfidÃªncia: MÃ©dia)</strong></p>
</div>
</section>

<!-- NOVA TELA DE SELEÃ‡ÃƒO DE CASOS -->
<section id="telaCasos" class="container hidden">
  <h2>Escolha o Caso que deseja investigar</h2>
  <p>Cada caso contÃ©m pistas, interrogatÃ³rios e segredos. Escolha com cuidado!</p>
  <div class="option" onclick="iniciarCaso(1)">CapÃ­tulo 01 â€” Caso Elisa Martins</div>
  <div class="option" onclick="iniciarCaso(2)">CapÃ­tulo 02 â€” O SilÃªncio da Testemunha</div>
</section>

<!-- INTRO -->
<section id="intro" class="container hidden">
<img src="https://i.ibb.co/RTwVMtJr/file-000000001c64720e8a39d9ce59a7b6a4.png">
<p>
Elisa enviou mensagens enigmÃ¡ticas para amigos e familiares antes de desaparecer. Cada palavra, cada detalhe, pode ser uma pista crucial. Segredos antigos e pressÃµes desconhecidas comeÃ§am a surgir Ã  medida que o caso se aprofunda.  
O investigador precisa analisar tudo com atenÃ§Ã£o para desvendar a verdade.
</p>
<button onclick="mostrarCena1()">Acessar DossiÃª</button>
</section>

<!-- CENAS PRÃ‰-INTERROGATÃ“RIO CASO 01 -->
<section id="cena1" class="container hidden">
<h2>Cena 1 â€” Ãšltima Mensagem de Elisa</h2>
<p>Elisa enviou esta mensagem pouco antes de desaparecer:</p>
<div class="mensagem-celular" id="msg1">"Se algo me acontecer, procure o que estÃ¡ escondido no escritÃ³rio."</div>
<button onclick="mostrarCena2()">Continuar</button>
</section>

<section id="cena2" class="container hidden">
<h2>Cena 2 â€” Local Suspeito</h2>
<p>O investigador encontrou o escritÃ³rio de Elisa, com sinais de alguÃ©m ter mexido nas gavetas recentemente.</p>
<div class="mensagem-celular" id="msg2">"Objetos fora do lugar indicam pressÃµes externas."</div>
<button onclick="mostrarCena3()">Continuar</button>
</section>

<section id="cena3" class="container hidden">
<h2>Cena 3 â€” Descoberta Importante</h2>
<p>Entre os papÃ©is, o investigador encontra uma fotografia suspeita:</p>
<img src="https://i.ibb.co/hFQwkyt0/IMG-20260116-WA0028.jpg" alt="Foto suspeita">
<div class="mensagem-celular" id="msg3">"AlguÃ©m tentava coagir Elisa. Observe os detalhes do fundo."</div>
<button onclick="mostrarInterrogatorio()">Seguir para InterrogatÃ³rio</button>
</section>

<!-- INTERROGATÃ“RIO CASO 01 -->
<section id="interrogatorio" class="container hidden">
<h2>InterrogatÃ³rio â€” Caso 01</h2>
<p>Cada pergunta revela contradiÃ§Ãµes. Alguns mentem, outros omitem informaÃ§Ãµes. Ã‰ preciso atenÃ§Ã£o aos detalhes e pistas escondidas.</p>
</section>

<!-- RESULTADO CASO 01 -->
<section id="resultado" class="container hidden">
<h2>ConclusÃ£o â€” Caso 01</h2>
<p id="textoResultado"></p>
<div class="dossie-final" id="dossieCulpado1"></div>
<button onclick="iniciarCaso2()">â¡ PrÃ³ximo Caso</button>
</section>

<!-- ================= CASO 02 ================= -->
<section id="caso2" class="container hidden">
<h2>Caso 02 â€” O SilÃªncio da Testemunha</h2>
<p>
Uma testemunha-chave que poderia revelar um esquema poderoso desapareceu misteriosamente.  
Mensagens de alerta foram enviadas, mas ninguÃ©m conseguiu impedir que segredos perigosos fossem mantidos.  
O investigador deve juntar cada fragmento de informaÃ§Ã£o antes que evidÃªncias vitais desapareÃ§am.
</p>
<button onclick="mostrarCena1Caso2()">Iniciar InvestigaÃ§Ã£o</button>
</section>

<!-- CENAS PRÃ‰-INTERROGATÃ“RIO CASO 02 -->
<section id="cena1Caso2" class="container hidden">
<h2>Cena 1 â€” Alerta da Testemunha</h2>
<div class="mensagem-celular" id="msg4">"Algo perigoso estÃ¡ prestes a acontecer. Fique atento."</div>
<button onclick="mostrarCena2Caso2()">Continuar</button>
</section>

<section id="cena2Caso2" class="container hidden">
<h2>Cena 2 â€” Local da Testemunha</h2>
<div class="mensagem-celular" id="msg5">"Sinais de arrombamento detectados. MovimentaÃ§Ãµes suspeitas."</div>
<button onclick="mostrarCena3Caso2()">Continuar</button>
</section>

<section id="cena3Caso2" class="container hidden">
<h2>Cena 3 â€” Documento Revelador</h2>
<div class="mensagem-celular" id="msg6">"Um documento desaparecido recentemente pode conter informaÃ§Ãµes cruciais."</div>
<button onclick="interrogatorioCaso2()">Seguir para InterrogatÃ³rio</button>
</section>

<!-- INTERROGATÃ“RIO CASO 02 -->
<section id="interrogatorio2" class="container hidden">
<h2>InterrogatÃ³rio â€” Caso 02</h2>
</section>

<!-- RESULTADOS -->
<section id="resultado2" class="container hidden">
<h2>ConclusÃ£o â€” Caso 02</h2>
<p id="textoResultado2"></p>
<div class="dossie-final" id="dossieCulpado2"></div>
<button onclick="location.reload()">Voltar ao InÃ­cio</button>
</section>

<script>
let pistas = { lucas:0, marina:0, renato:0 };
let pistas2 = { paulo:0, clara:0, henrique:0 };

function esconderTudo(){
  document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
}

function mostrarIntro(){esconderTudo();intro.classList.remove("hidden");}

// FunÃ§Ãµes para cenas Caso 01
function mostrarCena1(){esconderTudo();cena1.classList.remove("hidden");playNotif();}
function mostrarCena2(){esconderTudo();cena2.classList.remove("hidden");playNotif();}
function mostrarCena3(){esconderTudo();cena3.classList.remove("hidden");playNotif();}
function mostrarDossie(){esconderTudo();dossie.classList.remove("hidden");}
function mostrarInterrogatorio(){esconderTudo();interrogatorio.classList.remove("hidden");}

// FunÃ§Ãµes para cenas Caso 02
function mostrarCena1Caso2(){esconderTudo();cena1Caso2.classList.remove("hidden");playNotif();}
function mostrarCena2Caso2(){esconderTudo();cena2Caso2.classList.remove("hidden");playNotif();}
function mostrarCena3Caso2(){esconderTudo();cena3Caso2.classList.remove("hidden");playNotif();}
function interrogatorioCaso2(){esconderTudo();interrogatorio2.classList.remove("hidden");}

function resposta(nome){
  pistas[nome]++;
  if(pistas[nome]>=2){
    esconderTudo();
    resultado.classList.remove("hidden");
    if(nome==="renato"){
      textoResultado.innerText="Renato foi desmascarado.";
      dossieCulpado1.innerHTML=`
        <h3>ğŸš” Culpado Preso</h3>
        <p><strong>Nome:</strong> Renato</p>
        <p><strong>Crime:</strong> CoaÃ§Ã£o, sequestro e obstruÃ§Ã£o da justiÃ§a.</p>
        <p>Elisa descobriu um esquema ilegal e foi silenciada.</p>
        <img src="https://i.ibb.co/2Z8b2Fh/renato-prisao.png" alt="Renato preso" style="width:100%;border-radius:10px;margin-top:10px;">
      `;
    }else{
      textoResultado.innerText="Suspeito inocentado.";
    }
  }
}

function resposta2(nome){
  pistas2[nome]++;
  if(pistas2[nome]>=2){
    esconderTudo();
    resultado2.classList.remove("hidden");
    if(nome==="henrique"){
      textoResultado2.innerText="Henrique tentou silenciar a testemunha.";
      dossieCulpado2.innerHTML=`
        <h3>ğŸš” Culpado Preso</h3>
        <p><strong>Nome:</strong> Henrique</p>
        <p><strong>Crime:</strong> HomicÃ­dio e destruiÃ§Ã£o de provas.</p>
        <p>Mandou eliminar a testemunha para proteger clientes poderosos.</p>
        <img src="https://i.ibb.co/VY9cZ0v/henrique-prisao.png" alt="Henrique preso" style="width:100%;border-radius:10px;margin-top:10px;">
      `;
    }else{
      textoResultado2.innerText="InvestigaÃ§Ã£o inconclusiva.";
    }
  }
}

// EFEITO SONORO DE NOTIFICAÃ‡ÃƒO
function playNotif(){
  const audio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');
  audio.play();
}

// NOVA FUNÃ‡ÃƒO DE SELEÃ‡ÃƒO DE CASO
function mostrarTelaCasos(){
  esconderTudo();
  telaCasos.classList.remove("hidden");
}

function iniciarCaso(num){
  esconderTudo();
  if(num === 1){ intro.classList.remove("hidden"); }
  if(num === 2){ caso2.classList.remove("hidden"); }
}

/* PWA */
let deferredPrompt;
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault();
  deferredPrompt=e;
  btnInstall.classList.remove("hidden");
});
btnInstall.onclick=()=>{
  deferredPrompt.prompt();
  deferredPrompt=null;
  btnInstall.classList.add("hidden");
};
</script>

</body>
  </html>
